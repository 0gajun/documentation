{{ $ctx := .ctx }}
{{ $type := .type}}
{{ $.Scratch.Set "editURL" "" }}

{{ if $ctx.Params.dependencies }}
{{/* Files with dependencies link to corresponding URL */}}

    {{ $deps := $ctx.Params.dependencies }}
    {{ $depsIsArray := reflect.IsSlice $deps }}

    {{ if $depsIsArray }}

        {{ range $dep := $deps }}

                {{ with $ctx.File }}
                    {{ partial "page-edit-body.html" (dict "ctx" $ctx "link" $dep "type" $type) }}
                {{ end }}

        {{ end }}

    {{ end }}

{{ else if (eq $ctx.Section "integrations" )}}
{{/* Files with integrations path and no dependencies are not editable */}}
{{ else }}
{{/* Not in integrations edit existing docs file */}}
        {{ $editLink := ( printf "https://github.com/DataDog/documentation/blob/master/content/%s/%s/" $ctx.Page.Lang $ctx.File.Path ) }}
        {{ partial "page-edit-body.html" (dict "ctx" $ctx "link" $editLink "type" $type) }}

{{ end }}
